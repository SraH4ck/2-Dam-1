[[Manejo de ficheros]]

----
#### Formas de Acceso a un Fichero

En Java, existen dos formas principales de acceder a la información contenida en un fichero: **acceso secuencial** y **acceso directo o aleatorio**. Cada una de estas formas tiene sus propias características y aplicaciones según las necesidades del programa.

### 1. **Acceso Secuencial**

- **Descripción**: Los datos se **leen y escriben en orden** secuencial, es decir, uno tras otro, de la misma forma en que funciona una cinta de vídeo.
- **Lectura secuencial**: Si se necesita acceder a un dato que está en el medio del archivo, primero deben leerse todos los datos anteriores. Esto puede ser más lento en archivos grandes.
- **Escritura secuencial**: La escritura de datos ocurre **después del último dato escrito**, por lo que **no es posible insertar datos** en posiciones intermedias del archivo.
- **Uso en Java**:
    - Para el acceso secuencial a datos **binarios** se usan las clases:
        - `FileInputStream`: Para **leer** datos binarios de un archivo.
        - `FileOutputStream`: Para **escribir** datos binarios en un archivo.
    - Para el acceso secuencial a **caracteres** (texto), se usan las clases:
        - `FileReader`: Para **leer** caracteres de un archivo de texto.
        - `FileWriter`: Para **escribir** caracteres en un archivo de texto.
- **Ejemplo de acceso secuencial**
  ```java
  // Lectura secuencial de un archivo de texto
FileReader fr = new FileReader("archivo.txt");
BufferedReader br = new BufferedReader(fr);
String linea;
while ((linea = br.readLine()) != null) {
    System.out.println(linea); // Procesa cada línea en orden
}
br.close();

```

### 2. **Acceso Directo o Aleatorio**

- **Descripción**: Permite **acceder directamente** a cualquier dato o registro en el fichero sin tener que leer los anteriores. Esto permite moverse por el archivo en cualquier orden, leyendo o modificando la información.
- **Ventajas**: Es ideal para situaciones en las que se necesita modificar o leer registros de manera no secuencial, como bases de datos o archivos grandes donde no es eficiente recorrer el archivo completo.
- **Características**:
    - Los datos están organizados en **registros de tamaño conocido**, lo que facilita saltar de un registro a otro.
    - Es posible **leer, modificar o insertar** información en cualquier posición dentro del archivo.
- **Uso en Java**:
    - Para el acceso directo o aleatorio en Java, se utiliza la clase:
        - `RandomAccessFile`: Esta clase permite leer y escribir datos en cualquier posición del archivo.
- **Ejemplo de acceso aleatorio con `RandomAccessFile`**:
  ```java
  RandomAccessFile raf = new RandomAccessFile("archivo.dat", "rw"); // rw para leer y escribir

// Mover el puntero de archivo a la posición 100 (byte 100)
raf.seek(100); 

// Leer un entero en la posición actual
int dato = raf.readInt();
System.out.println("Dato en la posición 100: " + dato);

// Escribir en la posición 200
raf.seek(200);
raf.writeInt(12345); // Escribe el valor 12345 en la posición 200

raf.close();

```

### Resumen de Clases Utilizadas:

|**Acceso**|**Flujos de Bytes**|**Flujos de Caracteres (Texto)**|**Acceso Aleatorio**|
|---|---|---|---|
|**Secuencial**|`FileInputStream`, `FileOutputStream`|`FileReader`, `FileWriter`|No aplica|
|**Aleatorio**|`RandomAccessFile` (para datos binarios o texto)|No aplicable|`RandomAccessFile`|

### Diferencias clave:

- **Acceso Secuencial**:
    - **Lectura/Escritura en orden**.
    - Es necesario leer todos los datos previos si se busca un dato en particular.
    - No es posible insertar datos entre los existentes.
- **Acceso Directo o Aleatorio**:
    - **Acceso directo** a cualquier posición del archivo.
    - Se puede leer, modificar o escribir en cualquier parte del archivo.
    - Ideal para archivos con registros de tamaño fijo.